_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{CfaW:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r("pn/8")}])},M36i:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"c",(function(){return v})),r.d(t,"b",(function(){return O}));var n=r("nKUr"),c=r("o0o1"),a=r.n(c),o=r("HaE+"),s=r("rePB"),u=r("vDqi"),i=r.n(u),l=r("q1tI");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=Object(l.createContext)({authenticated:!1,user:null,loading:!0}),b=Object(l.createContext)(null),j=function(e,t){var r=t.type,n=t.payload;switch(r){case"LOGIN":return p(p({},e),{},{authenticated:!0,user:n});case"LOGOUT":return p(p({},e),{},{authenticated:!1,user:null});case"STOP_LOADING":return p(p({},e),{},{loading:!1});default:throw new Error("Unknown action type: ".concat(r))}},h=function(e){var t=e.children,r=Object(l.useReducer)(j,{user:null,authenticated:!1,loading:!0}),c=r[0],s=r[1],u=function(e,t){return s({type:e,payload:t})};return Object(l.useEffect)((function(){function e(){return(e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("/auth/me");case 3:t=e.sent,u("LOGIN",t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,u("STOP_LOADING"),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.jsx)(b.Provider,{value:u,children:Object(n.jsx)(d.Provider,{value:c,children:t})})},v=function(){return Object(l.useContext)(d)},O=function(){return Object(l.useContext)(b)}},TSYQ:function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var o=c.apply(null,n);o&&e.push(o)}else if("object"===a)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n)}()},YFqc:function(e,t,r){e.exports=r("cTJO")},cTJO:function(e,t,r){"use strict";var n=r("J4zp"),c=r("284h");t.__esModule=!0,t.default=void 0;var a=c(r("q1tI")),o=r("elyg"),s=r("nOHt"),u=r("vNVm"),i={};function l(e,t,r,n){if(e&&(0,o.isLocalURL)(t)){e.prefetch(t,r,n).catch((function(e){0}));var c=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;i[t+"%"+r+(c?"%"+c:"")]=!0}}var f=function(e){var t=!1!==e.prefetch,r=(0,s.useRouter)(),c=r&&r.pathname||"/",f=a.default.useMemo((function(){var t=(0,o.resolveHref)(c,e.href,!0),r=n(t,2),a=r[0],s=r[1];return{href:a,as:e.as?(0,o.resolveHref)(c,e.as):s||a}}),[c,e.href,e.as]),p=f.href,d=f.as,b=e.children,j=e.replace,h=e.shallow,v=e.scroll,O=e.locale;"string"===typeof b&&(b=a.default.createElement("a",null,b));var m=a.Children.only(b),g=m&&"object"===typeof m&&m.ref,y=(0,u.useIntersection)({rootMargin:"200px"}),x=n(y,2),w=x[0],N=x[1],P=a.default.useCallback((function(e){w(e),g&&("function"===typeof g?g(e):"object"===typeof g&&(g.current=e))}),[g,w]);(0,a.useEffect)((function(){var e=N&&t&&(0,o.isLocalURL)(p),n="undefined"!==typeof O?O:r&&r.locale,c=i[p+"%"+d+(n?"%"+n:"")];e&&!c&&l(r,p,d,{locale:n})}),[d,p,N,O,t,r]);var E={ref:P,onClick:function(e){m.props&&"function"===typeof m.props.onClick&&m.props.onClick(e),e.defaultPrevented||function(e,t,r,n,c,a,s,u){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,o.isLocalURL)(r))&&(e.preventDefault(),null==s&&(s=n.indexOf("#")<0),t[c?"replace":"push"](r,n,{shallow:a,locale:u,scroll:s}).then((function(e){e&&s&&document.body.focus()})))}(e,r,p,d,j,h,v,O)},onMouseEnter:function(e){(0,o.isLocalURL)(p)&&(m.props&&"function"===typeof m.props.onMouseEnter&&m.props.onMouseEnter(e),l(r,p,d,{priority:!0}))}};if(e.passHref||"a"===m.type&&!("href"in m.props)){var k="undefined"!==typeof O?O:r&&r.locale,I=r&&r.isLocaleDomain&&(0,o.getDomainLocale)(d,k,r&&r.locales,r&&r.domainLocales);E.href=I||(0,o.addBasePath)((0,o.addLocale)(d,k,r&&r.defaultLocale))}return a.default.cloneElement(m,E)};t.default=f},g4pe:function(e,t,r){e.exports=r("8Kt/")},"pn/8":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var n=r("nKUr"),c=r("o0o1"),a=r.n(c),o=r("rePB"),s=r("HaE+"),u=r("vDqi"),i=r.n(u),l=r("nOHt"),f=r("g4pe"),p=r.n(f),d=r("YFqc"),b=r.n(d),j=r("q1tI"),h=r("uIqA"),v=r("M36i");function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(){var e=Object(j.useState)(""),t=e[0],r=e[1],c=Object(j.useState)(""),o=c[0],u=c[1],f=Object(j.useState)(""),d=f[0],O=f[1],g=Object(j.useState)(!1),y=g[0],x=g[1],w=Object(j.useState)({}),N=w[0],P=w[1],E=Object(v.c)().authenticated,k=Object(l.useRouter)();E&&k.push("/");var I=function(){var e=Object(s.a)(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),y){e.next=4;break}return P(m(m({},N),{},{agreement:"You must agree to T&Cs"})),e.abrupt("return");case 4:return e.prev=4,e.next=7,i.a.post("/auth/register",{email:t,password:d,username:o});case 7:e.sent,k.push("/login"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),P(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"flex bg-white",children:[Object(n.jsxs)(p.a,{children:[Object(n.jsx)("title",{children:"Register"}),Object(n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),Object(n.jsx)("div",{className:"w-40 h-screen bg-center bg-cover",style:{backgroundImage:"url('images/tiles.jpg')"}}),Object(n.jsx)("div",{className:"flex flex-col justify-center pl-6",children:Object(n.jsxs)("div",{className:"w-70",children:[Object(n.jsx)("h1",{className:"mb-2 text-lg font-medium",children:"Sign Up"}),Object(n.jsx)("p",{className:"mb-10 text-xs",children:"By continuing, you agree to our User Agreement and Privacy Policy."}),Object(n.jsxs)("form",{onSubmit:I,children:[Object(n.jsxs)("div",{className:"mb-6",children:[Object(n.jsx)("input",{type:"checkbox",className:"mr-1 cursor-pointer",id:"agreement",checked:y,onChange:function(e){return x(e.target.checked)}}),Object(n.jsx)("label",{htmlFor:"agreement",className:"text-xs cursor-pointer",children:"I agree to get emails about cool stuff on Reddit"}),Object(n.jsx)("small",{className:"block font-medium text-red-600",children:N.agreement})]}),Object(n.jsx)(h.a,{className:"mb-2",type:"email",value:t,setValue:r,placeholder:"EMAIL",error:N.email}),Object(n.jsx)(h.a,{className:"mb-2",type:"text",value:o,setValue:u,placeholder:"USERNAME",error:N.username}),Object(n.jsx)(h.a,{className:"mb-2",type:"password",value:d,setValue:O,placeholder:"PASSWORD",error:N.password}),Object(n.jsx)("button",{className:"w-full py-2 mb-4 text-xs font-bold text-white uppercase bg-blue-500 border border-blue-500 rounded",children:"Sign Up"})]}),Object(n.jsxs)("small",{children:["Already a readitor?",Object(n.jsx)(b.a,{href:"/login",children:Object(n.jsx)("a",{className:"ml-1 text-blue-500 uppercase",children:"Login"})})]})]})})]})}},rePB:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},uIqA:function(e,t,r){"use strict";var n=r("nKUr"),c=r("TSYQ"),a=r.n(c);t.a=function(e){var t=e.className,r=e.type,c=e.placeholder,o=e.value,s=e.error,u=e.setValue;return Object(n.jsxs)("div",{className:t,children:[Object(n.jsx)("input",{type:r,className:a()("w-full p-3 transition duration-200 border border-gray-300 rounded outline-none bg-gray-50 focus:bg-white hover:bg-white",{"border-red-500":s}),placeholder:c,value:o,onChange:function(e){return u(e.target.value)}}),Object(n.jsx)("small",{className:"font-medium text-red-600",children:s})]})}},vNVm:function(e,t,r){"use strict";var n=r("J4zp");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,r=e.disabled||!o,u=(0,c.useRef)(),i=(0,c.useState)(!1),l=n(i,2),f=l[0],p=l[1],d=(0,c.useCallback)((function(e){u.current&&(u.current(),u.current=void 0),r||f||e&&e.tagName&&(u.current=function(e,t,r){var n=function(e){var t=e.rootMargin||"",r=s.get(t);if(r)return r;var n=new Map,c=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return s.set(t,r={id:t,observer:c,elements:n}),r}(r),c=n.id,a=n.observer,o=n.elements;return o.set(e,t),a.observe(e),function(){o.delete(e),a.unobserve(e),0===o.size&&(a.disconnect(),s.delete(c))}}(e,(function(e){return e&&p(e)}),{rootMargin:t}))}),[r,t,f]);return(0,c.useEffect)((function(){if(!o&&!f){var e=(0,a.requestIdleCallback)((function(){return p(!0)}));return function(){return(0,a.cancelIdleCallback)(e)}}}),[f]),[d,f]};var c=r("q1tI"),a=r("0G5g"),o="undefined"!==typeof IntersectionObserver;var s=new Map}},[["CfaW",0,2,1,3]]]);